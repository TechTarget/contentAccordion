/*!
contentAccordion v1.0.3 (http://okize.github.com/)
Copyright (c) 2013 | Licensed under the MIT license
http://www.opensource.org/licenses/mit-license.php
*/
!function(){!function(t){return"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var e,i,s;s="contentAccordion",i={maintainState:!1,allCollapsible:!1,activeItem:0,allowDataAttrOverride:!1},e=function(){function e(e,n){this.element=e,this.el=t(this.element),this.options=t.extend({},i,n),this._defaults=i,this._name=s,this.items=null,this.activeItem=this.options.activeItem,this.stateKey="accordionState",this.hashObject=null,this.init()}return e.prototype.init=function(){var e,i,s=this;return i=this.getItems(),this.options.allCollapsible&&this.el.addClass("allCollapsible"),this.options.maintainState&&(e=this.getStateFromHash(),null!==e&&(this.activeItem=e)),this.options.allowDataAttrOverride&&i.each(function(t){i.eq(t).data("accordionOpen")===!0&&(s.activeItem=t)}),this.selectItem(this.activeItem),i.on("click",".contentAccordionItemTitle",function(e){return e.preventDefault(),s.updateState(t(e.currentTarget).parent().index())})},e.prototype.getItems=function(){return this.items||(this.items=this.el.find(".contentAccordionItem")),this.items},e.prototype.selectItem=function(t){var e,i;return i=this.getItems(),e=i.eq(t),-1===t?i.removeClass("active"):e.hasClass("active")&&this.options.allCollapsible?(e.removeClass("active"),t=-1):(i.removeClass("active"),e.addClass("active")),this.activeItem=t},e.prototype.updateState=function(t){return-1!==t&&this.selectItem(t),this.options.maintainState&&this.updateHash(t),this.activeItem=t},e.prototype.getStateFromHash=function(){var t,e;return this.hashObject=this.getHashObject(),this.hashObject?(t=null!=(e=this.hashObject[this.stateKey])?e:null,t?parseInt(this.hashObject[this.stateKey],10):null):null},e.prototype.getHashObject=function(){var t,e,i,s,n,a,h;if(s=this.getUrlHash(),!s)return null;for(e={},i=s.split("&"),a=0,h=i.length;h>a;a++)n=i[a],t=n.split("="),e[t[0]]=t.length>1?t[1]:void 0;return e},e.prototype.buildHashObject=function(){return t.param(this.hashObject)},e.prototype.updateHash=function(t){return t+="",this.hashObject=this.getHashObject(),this.hashObject||(this.hashObject={}),this.hashObject[this.stateKey]=t,this.setUrlHash(this.buildHashObject())},e.prototype.getUrlHash=function(){return window.location.hash?window.location.hash.substring(1):null},e.prototype.setUrlHash=function(t){return window.location.hash=t},e}(),t.fn[s]=function(i){return this.each(function(){t.data(this,"plugin_#{pluginName}")||t.data(this,"plugin_#{pluginName}",new e(this,i))})}})}.call(this);
//# sourceMappingURL=contentAccordion.min.js.map